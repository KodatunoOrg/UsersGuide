<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> 
<HTML> 
<HEAD LANG="ja"> 
	<TITLE>Kodatuno User's Guide</TITLE> 
	<meta HTTP-EQUIV="Content-type" CONTENT="text/html; charset=euc-jp"> 
</HEAD> 
<BODY bgcolor="#ffffff"> 
<table cellspacing="0" cellpadding="0" border="0" width="100%">   
	<tr valign="top" height="32">   
	</tr>   
	<tr valign="top">        
		<td width="256" valign="bottom" align="left">          
			<IMG SRC="pixmaps/logo.jpg" width="300" height="98" alt="Kodatuno Logo" ALIGN="top">
		</td>        
		<td valign="bottom" align="center">          
			<center> 	   
		<b><big>Kodatuno User's Guide</big>
		</b>
		<center>        
		</td>       
		<td width="20%" valign="bottom" align="right">          
			<A HREF="./3-2.html" TARGET="_top">Prev</A>     
			<A HREF="./index.html" TARGET="_top">Index</A>          
			<A HREF="./3-4.html" TARGET="_top">Next</A><br>     
		</td>   
	</tr> 
</table> 
<blockquote> 

<BR><HR><H2>描画ライブラリ</H2>
【Describe_BODY.h】<BR><BR>
BODY描画用モジュールを提供します。<BR>

<BR>■シンボル
<pre><font size="3">
#define COMMAND_DRAW_BODY            1       BODY描画用ディスプレイリストの登録番号
#define COMMAND_DRAW_USER            2       Userメイン関数によってコールされたOpenGL描画関数用ディスプレイリストの登録番号
#define COMMAND_DRAW_USER_COMMAND    100     User CommandによってコールされたOpenGL描画関数用ディスプレイリストの登録番号
</font></pre>

<HR>
<BR>■インクルードライブラリ<BR><BR>
"BODY.h" "NURBS_Func.h"<BR><BR>

<HR>
<BR>■型定義<BR><BR>
なし<BR><BR>

<HR>
<BR>■クラス<BR><BR>
Descirbe_BODY<BR>
<継承><BR>
なし<BR><BR>

<HR>
<BR>■関数(Class Describe_BODY)<BR><BR>

<A NAME="Describe_BODY()"> </A>
<H4>public<BR>
Describe_BODY() <BR>
~Describe_BODY() <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>コンストラクタ/デストラクタ</DD>
<DT> ＜引数＞ </DT>
<DD>なし</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawBody()"> </A>
<H4>public<BR>
void DrawBody(BODY *Body) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>BODYを描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>*Body: BODY構造体へのポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawCompositeCurve()"> </A>
<H4>public<BR>
void DrawCompositeCurve(COMPC *) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>複合曲線を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>COMPC CompC: 複合曲線へのポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawLine()"> </A>
<H4>public<BR>
void DrawLine(LINE_) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>線分を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>LINE_ Line: 描画する線分構造体</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawNurbsCurve()"> </A>
<H4>public<BR>
void DrawNurbsCurve(NURBSC) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>NURBS曲線を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>NURBSC *NurbsC: 描画するNURBS曲線構造体</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawTrimdNurbsSurfe()"> </A>
<H4>public<BR>
void DrawTrimdNurbsSurfe(NURBSS *) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>トリム面を持つNURBS曲面を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>NURBSS *NurbsS: 描画するNURBS曲面のポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawNurbsSurfe()"> </A>
<H4>public<BR>
void DrawNurbsSurfe(NURBSS) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>トリム面を持たないNURBS曲面を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>NURBSS NurbsS: 描画するNURBS曲面構造体</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawCurveOnParamSurfe()"> </A>
<H4>public<BR>
void DrawCurveOnParamSurfe(CONPS *) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>面上線を描画する。</DD>
<DT> ＜引数＞ </DT>
<DD>CONPS *ConpS: 描画する面上線のポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawTrimdSurf()"> </A>
<H4>public<BR>
void DrawTrimdSurf(TRMS) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>トリム面を描画する。上述のDrawTrimdNurbsSurfe()はこの関数からのみ唯一呼び出される。
また、上述のDrawCurveOnParamSurfe()もこの関数からのみ唯一呼び出される。</DD>
<DT> ＜引数＞ </DT>
<DD>TRMS TrmS: 描画するトリム面構造体</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="DrawNurbsCurve_Param()"> </A>
<H4>public<BR>
void DrawNurbsCurve_Param(NURBSC *) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>トリムを構成する2DパラメトリックNURBS曲線要素を描画する。上述のDrawCompositeCurve()はこの関数からのみ唯一呼び出される。</DD>
<DT> ＜引数＞ </DT>
<DD>NURBSC *NurbsC: 描画する2DパラメトリックNURBS曲線のポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="Draw_NurbsCurves()"> </A>
<H4>public<BR>
void Draw_NurbsCurves(BODY *Body) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>BODYに含まれるNURBS曲線を全て描画</DD>
<DT> ＜引数＞ </DT>
<DD>*Body：BODY構造体へのポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="Draw_NurbsSurfaces()"> </A>
<H4>public<BR>
void Draw_NurbsSurfaces(BODY *Body) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>BODYに含まれるNURBS曲面を全て描画</DD>
<DT> ＜引数＞ </DT>
<DD>*Body：BODY構造体へのポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="Draw_TrimSurfes()"> </A>
<H4>public<BR>
void Draw_TrimSurfes(BODY *Body) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>BODYに含まれるトリム面を全て描画</DD>
<DT> ＜引数＞ </DT>
<DD>*Body：BODY構造体へのポインタ</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="SetNurbsStat()"> </A>
<H4>public<BR>
void SetNurbsStat() <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>本クラスのコンストラクタにて唯一呼び出される。NURBS描画エラーコールバック関数の定義を行う。</DD>
<DT> ＜引数＞ </DT>
<DD>なし</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="SetNurbsSTolerance()"> </A>
<H4>public<BR>
void SetNurbsSTolerance(GLfloat) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>NURBS曲面を描画する際のトレランスを指定する。</DD>
<DT> ＜引数＞ </DT>
<DD>GLfloat t: トレランス値。gluNurbsProperty()関数のPropertyにGLU_SAMPLING_TOLERANCEを指定した場合のvalue値を示す。
値が小さいほど滑らかな描画となる。デフォルトでは20が指定されている。</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="NURBS_Err()"> </A>
<H4>public<BR>
static void NURBS_Err(GLenum) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>NURBS描画エラーコールバック関数。</DD>
<DT> ＜引数＞ </DT>
<DD>GLenum error_code: OpenGLが提供するNURBS描画関数内で発生したエラーコード</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>

<A NAME="SetNurbsSProperty()"> </A>
<H4>public<BR>
static void SetNurbsSProperty(GLenum,GLfloat) <BR></H3>
<DL>
<DT> ＜説明＞ </DT>
<DD>NURBS曲面の描画形式を変更する。</DD>
<DT> ＜引数＞ </DT>
<DD>GLenum prop: gluNurbsProperty()関数のProperty値を指定。<BR>
GLfloat val: gluNurbsProperty()関数のValue値を指定。<BR>
</DD>
<DT> ＜戻り値＞ </DT>
<DD>なし</DD>
</DL>
<BR><BR>
<HR>

<BR>■変数(Class Describe_BODY)<BR>
<pre><font size="3">
protected<BR>
GLUnurbsObj *NurbsSurf                     NURBS曲面用オブジェクト
GLUnurbsObj *NurbsCurve                    NURBS曲線用オブジェクト
GLfloat	uKnot[KNOTNUMMAX]                  NURBS描画用U方向ノットベクトルバッファ
GLfloat	vKnot[KNOTNUMMAX]                  NURBS描画用V方向ノットベクトルバッファ
GLfloat	CCtlp[CTLPNUMMAX][4]               NURBS曲線描画用コントロールポイントバッファ
GLfloat	SCtlp[CTLPNUMMAX][CTLPNUMMAX][4]   NURBS曲面描画用コントロールポイントバッファ
</font></pre>

<HR>
<BR><HR><H2>BODY操作ライブラリ</H2>
【BODY_Handler.h】<BR><BR>
BODYの各種操作モジュールを提供します。<BR>

<BR>■シンボル
<pre><font size="3">
なし
</font></pre>

<HR>
<BR>■インクルードライブラリ<BR><BR>
"Describe_BODY.h" "NURBS_Func.h"<BR><BR>

<HR>
<BR>■型定義<BR><BR>
なし<BR><BR>

<HR>
<BR>■クラス<BR><BR>
BODY_Handler<BR>
<継承><BR>
Describe_BODY<BR><BR>

<HR>
<BR>■関数(Class BODY_Handler)<BR><BR>

<pre><font size="3">
<A NAME="InitCurveColor()"> </A>
<A NAME="InitSurfaceColor()"> </A>
<H4>public
InitCurveColor();
InitSurfaceColor();</H4>
＜説明＞
    コンストラクタ
    ユーザが独自に作成した関数とUserボタンとの関連付け及び、Userステータスの初期化を行う。  
＜引数＞  
   なし
＜戻り値＞  
    なし
    
<A NAME="ChangeStatColor()"> </A>
<H4>public
void Change StatColor(float *Col, float r, float g, flaot b, float a); </H4>
＜説明＞
    エンティティの表示色を変更する  
＜引数＞  
    Col：変更したいエンティティのColorステータス 
    r：変更したいエンティティのColorステータスのR値 
    g：変更したいエンティティのColorステータスのG値 
    b：変更したいエンティティのColorステータスのB値 
    a：変更したいエンティティのColorステータスのa値 
＜戻り値＞  
    なし 

<A NAME="SearchBodyList()"> </A>
<H4>public
BODY *SearchBodyList(BODYList *BodyList, int Key); </H4>
＜説明＞
    セレクションされているBODYの実体を得る  
＜引数＞  
    *BodyList：サーチしたいBODYのリストを指定 
    Key：サーチしたいBODY番号を指定  
＜戻り値＞  
    BODYへのポインタ 

<A NAME="Init_body()"> </A>
<H4>public
void Init_body(BODY *Body);  </H4>
＜説明＞
    BOYD構造体を初期化する。  
    Body->MaxCoord = 1.0;  
    Body->TypeNum[i] = 0;  
＜引数＞  
    *Body：初期化したいBODY構造体へのポインタ 
＜戻り値＞  
    なし 

<A NAME="RegistNurbsCtoBody()"> </A>
<A NAME="RegistNurbsCtoBodyN()"> </A>
<H4>public
void BODY_Handler::RegistNurbsCtoBody(BODYList *BodyList,BODY *Body,NURBSC Nurb,char BodyName[])
void BODY_Handler::RegistNurbsCtoBodyN(BODYList *BodyList,BODY *Body,NURBSC Nurb[],char BodyName[],int N)</H4>
＜説明＞
    1つ/N個のNURBS曲線を新たなBODYとして登録する
＜引数＞
    *BodyList：サーチしたいBODYのリストを指定 
    *Body : 新たなBody構造体のポインタ
    Nurb : 登録するNURBS曲線
    BodyName[] : Bodyリストウィンドウに登録するBody名
    N : 登録するNURBS曲線の個数
＜戻り値＞
    なし
    
<A NAME="RegistNurbsStoBody()"> </A>
<A NAME="RegistNurbsStoBodyN()"> </A>
<H4>public
void BODY_Handler::RegistNurbsStoBody(BODYList *BodyList,BODY *Body,NURBSS Nurb,char BodyName[])
void BODY_Handler::RegistNurbsStoBodyN(BODYList *BodyList,BODY *Body,NURBSS Nurb[],char BodyName[],int N)</H4>
＜説明＞
    1つ/N個のNURBS曲面を新たなBODYとして登録する
＜引数＞
    *BodyList：サーチしたいBODYのリストを指定 
    *Body : 新たなBody構造体のポインタ
    Nurb : 登録するNURBS曲面
    BodyName[] : Bodyリストウィンドウに登録するBody名
    N : 登録するNURBS曲面の個数
＜戻り値＞
    なし
    
<A NAME="RotBody()"></A>
<H4>public
void BODY_Handler::RotBody(BODY *Body,Coord Axis,double deg) </H4>
＜説明＞
    1つのBODYを指定した軸周りに指定した角度回転させる
＜引数＞
    *Body：回転させるBODYへのポインタ
    Axis：回転軸
    deg：回転角
＜戻り値＞
    なし
    
<A NAME="ShiftBody()"></A>
<H4>public
void BODY_Handler::ShiftBody(BODY *Body,Coord d) </H4>
＜説明＞
    1つのBODYを指定した量だけ平行移動量する
＜引数＞
    *Body：平行移動量させるBODYへのポインタ
    d：平行移動量
＜戻り値＞
    なし

<A NAME="New_body()"> </A>
<A NAME="Free_body()"> </A>
<H4>public
void New_body(BODY *Body, int TypeNum[]);   
void Free_body(BODY *Body, int TypeNum[]);  </H4>
＜説明＞
    BODY構造体内要素の各エンティティのメモリー確保/解放 
＜引数＞  
    Body：Body構造体のポインタ  
    TypeNum[i]：メモリー確保したい各エンティティの数を格納した配列 
    iはenum型で定義されたエンティティのシンボル値と同じ。 
    ex)TypeNum[10] = TypeNum[_NURBSC]であり、NURBS曲線エンティティの数が格納されていること。 
＜戻り値＞  
    なし 
</font></pre>


</blockquote> <HR> Document Release 2.0 for Kodatuno R2.0, Nov. 2011<P> <hr> <center>
			<A HREF="./3-2.html" TARGET="_top">Prev</A>     
			<A HREF="./index.html" TARGET="_top">Index</A>          
			<A HREF="./3-4.html" TARGET="_top">Next</A><br>     
</center> <hr> <table cellpadding="0" cellspacing="0" border="0" width="100%">    
<tr>      
	<td align="left">        
		<small>Copyright(C) Kodatuno Development Team, 2011</small>      
	</td>      
	<td align="right">        
		<small><i>Last modified: Nov. 11, 2011</i></small>      
	</td>   
</tr> </table>  <!-- end of body --> </body>  
</html>  

